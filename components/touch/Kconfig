menu "Touch Configuration"

    config ARS_TOUCH_X_MAX
        int "Touch Panel Width"
        default 1024
        help
            Maximum X coordinate resolution of the touch panel.

    config ARS_TOUCH_Y_MAX
        int "Touch Panel Height"
        default 600
        help
            Maximum Y coordinate resolution of the touch panel.

    config ARS_TOUCH_SWAP_XY
        bool "Swap X and Y Axes"
        default n
        help
            Swap the X and Y axes of the touch report.

    config ARS_TOUCH_MIRROR_X
        bool "Mirror X Axis"
        default n
        help
            Invert the X coordinate (X = Max - X).

    config ARS_TOUCH_MIRROR_Y
        bool "Mirror Y Axis"
        default n
        help
            Invert the Y coordinate (Y = Max - Y).

    config ARS_TOUCH_OFFSET_X
        int "Touch X Offset"
        default 0
        help
            Add constant offset to X coordinate.

    config ARS_TOUCH_OFFSET_Y
        int "Touch Y Offset"
        default 0
        help
            Add constant offset to Y coordinate.

    config ARS_TOUCH_SCALE_X
        int "Touch X Scale (x1000)"
        default 1000
        help
            Scale X coordinate by (Value / 1000.0). Default 1000 = 1.0x.

    config ARS_TOUCH_SCALE_Y
        int "Touch Y Scale (x1000)"
        default 1000
        help
            Scale Y coordinate by (Value / 1000.0). Default 1000 = 1.0x.

    config ARS_TOUCH_DISABLE_LEGACY_CAL
        bool "Disable legacy Kconfig scale/offset when affine transform is used"
        default y
        help
            When enabled, raw GT911 coordinates are forwarded without applying
            the legacy offset/scale parameters. This avoids double calibration
            when the affine touch_transform pipeline is active.

    config ARS_TOUCH_CLEAR_PROFILES_ON_BOOT
        bool "Clear touch orientation/calibration profiles on each boot"
        default n
        help
            When enabled, the touch orientation namespace ("touch") and
            calibration slots ("touchcal") are erased at boot before applying
            defaults. Use this to recover from inverted axes caused by stale
            NVS entries or after changing hardware orientation.

    config TOUCH_DEBUG_LOG
        bool "Enable Reduced Hardware Debug Logs"
        default n
        help
            Enable debug logging for touch input processing in LVGL port.
            Reduces spam by only logging changes or significant events.

    config GT911_DEBUG_DUMP
        bool "Dump raw GT911 frames (rate-limited)"
        default n
        help
            When enabled, the GT911 driver will periodically dump the status
            byte and raw point buffer in hexadecimal along with decoded fields
            to ease troubleshooting of touch parsing/endianness issues.

    choice ARS_TOUCH_GT911_LAYOUT
        prompt "GT911 point layout selection"
        default ARS_TOUCH_GT911_LAYOUT_AUTO
        help
            Select how the GT911 point buffer is decoded. Auto will choose the
            most plausible layout per point (preferring layout A when both are
            plausible).

        config ARS_TOUCH_GT911_LAYOUT_AUTO
            bool "Auto-select (prefer layout A)"

        config ARS_TOUCH_GT911_LAYOUT_A
            bool "Force layout A (x/y at offsets 0/2, id at 6)"

        config ARS_TOUCH_GT911_LAYOUT_B
            bool "Force layout B (legacy: id byte first, x/y at 1/3)"
    endchoice

    config ARS_TOUCH_GT911_LAYOUT_MARGIN
        int "GT911 layout plausibility margin (pixels)"
        range 0 256
        default 32
        help
            Margin applied when evaluating whether decoded coordinates are
            plausible. Larger margins tolerate noise but may hide format
            issues.

endmenu

